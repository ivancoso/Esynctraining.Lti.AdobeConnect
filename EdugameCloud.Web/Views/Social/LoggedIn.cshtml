@model EdugameCloud.MVC.ViewModels.SocialViewModel
@using EdugameCloud.MVC.Links
@using Esynctraining.Core.Utils
@using Resources
@using Scripts = EdugameCloud.MVC.Links.Scripts
@{
    Layout = EdugameCloudT4.Shared.Views._BaseLayout;
    ViewBag.Title = string.Format(Social.SuccessTitle, Inflector.Titleize(Model.Provider));
}

@section HeadContent {
    <meta name="google" value="notranslate" /> 
    <style type="text/css" media="screen"> 
        html, body  { height:100%; }
        body { margin:0; padding:0; overflow:auto; text-align:center; background-color: #ffffff; }   
        object:focus { outline:none; }
        #flashContent { display:none; }
        #safari_rememberDiv { visibility: hidden; display: none; }
    </style>
    <!-- Enable Browser History by replacing useBrowserHistory tokens with two hyphens -->
    <!-- BEGIN Browser History required section -->
    <script type="text/javascript" src="@Scripts.history_js"></script>
    <!-- END Browser History required section -->  
    <script type="text/javascript" src="@Scripts.swfobject_js"></script>
    <script type="text/javascript" language="javascript">
        
        function closeWindow() {
            self.close();
        }

        // For version detection, set to min. required Flash Player version, or 0 (or 0.0.0), for no version detection. 
        var swfVersionStr = "0.0.0";
        // To use express install, set to playerProductInstall.swf, otherwise the empty string. 
        var xiSwfUrlStr = "@Content.swf.playerProductInstall_swf";
        var flashvars = {};
        flashvars.provider = "@Model.Provider";
        flashvars.accessToken = "@Model.AccessToken";
        flashvars.accessTokenSecret = "@Model.AccessTokenSecret";
        var params = {};
        params.quality = "high";
        params.bgcolor = "#ffffff";
        params.allowscriptaccess = "sameDomain";
        params.allowfullscreen = "true";
        params.provider = "@Model.Provider";
        params.accessToken = "@Model.AccessToken";
        params.accessTokenSecret = "@Model.AccessTokenSecret";
        var attributes = {};
        attributes.id = "SocialAccessProxy";
        attributes.name = "SocialAccessProxy";
        attributes.align = "middle";
        swfobject.embedSWF("@Model.BuildUrl", "flashContent", "1", "1", swfVersionStr, xiSwfUrlStr, flashvars, params, attributes);
        // JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
        swfobject.createCSS("#flashContent", "display:block;text-align:left;");
    </script>

}
        <div style="height: 100%; width: 100%; margin: auto; margin-top: 100px;">Hello, @(Model.UserName)! Authentication is successful!<br/>Please close this window</div>
        <div id="flashContent">
            <p>
                To view this page ensure that Adobe Flash Player version 
                11.1.0 or greater is installed. 
            </p>
            <script type="text/javascript" language="javascript">
                var pageHost = ((document.location.protocol == "https:") ? "https://" : "http://");
                document.write("<a href='http://www.adobe.com/go/getflashplayer'><img src='" + pageHost + "www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a>");
            </script> 
        </div>
        <div style="visibility: hidden">
    <noscript>
        <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1" id="SocialAccessProxy">
            <param name="movie" value="@Model.BuildUrl" />
            <param name="quality" value="high" />
            <param name="bgcolor" value="#ffffff" />
            <param name="allowScriptAccess" value="sameDomain" />
            <param name="allowFullScreen" value="true" />
            <param name="provider" value="@Model.Provider" />
            <param name="accessToken" value="@Model.AccessToken" />
            <param name="accessTokenSecret" value="@Model.AccessTokenSecret" />
            <param name="flashvars" value="provider=@Model.Provider&amp;accessToken=@Model.AccessToken&amp;accessTokenSecret=@Model.AccessTokenSecret" />
            <!--[if !IE]>-->
            <object type="application/x-shockwave-flash" data="@Model.BuildUrl" width="1" height="1">
                <param name="quality" value="high" />
                <param name="bgcolor" value="#ffffff" />
                <param name="allowScriptAccess" value="sameDomain" />
                <param name="allowFullScreen" value="true" />
                <param name="clientIPAddress" value="@Model.Provider" />
                <param name="accessToken" value="@Model.AccessToken" />
                <param name="accessTokenSecret" value="@Model.AccessTokenSecret" />
                <param name="flashvars" value="provider=@Model.Provider&amp;accessToken=@Model.AccessToken&amp;accessTokenSecret=@Model.AccessTokenSecret" />
                <!--<![endif]-->
                <!--[if gte IE 6]>-->
                <p>
                    Either scripts and active content are not permitted to run or Adobe Flash Player version
                    11.1.0 or greater is not installed.
                </p>
                <!--<![endif]-->
                <a href="http://www.adobe.com/go/getflashplayer">
                    <img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash Player" />
                </a>
                <!--[if !IE]>-->
            </object>
            <!--<![endif]-->
        </object>
    </noscript>
</div>
  
           
       
    
               
